
<!DOCTYPE html>
<html>
    <head>
        <title>Fesh Transportation Management</title>
        <meta content="HTML,CSS,XML,XHTML,Javascript" name="keywords"/>
	<meta content="Transportation Management System" name="description"/> 
	<meta charset="UTF-8"/>
	<meta content="Ogbu Paschal" name="author"/>
    <meta content="width=devive-width,intial-scale=1" name="viewport"/>
     </head>
<body>

<form id="loginPage">
    <label>username</label>
    <input type="string" placeholder="username" name="username" id="username"  help_text="Required. 150 characters or fewer.letters,digits and @/*/+/-/_ only." required>
    <br><br>
    <label>password</label>
    <input type="string" placeholder="password" name="password" id="password" required>
    <br><br>

    <input  type="submit" value="submit" name="submit">

    <div id="demo"></div>
</form>

</body>
</html>

<script>


document.getElementById("loginPage").addEventListener('submit', loginPage);
            
            function loginPage(e){
                e.preventDefault();
                let username = document.getElementById('username').value;   
                
                let password = document.getElementById('password').value;
            
            fetch("https://nbtms.pythonanywhere.com/api/staff/login/",{
                method:'POST',
                headers: {
                    'Accept': 'application/json, text/plain, */*',
                    'Content-type' : 'application/json',
                    
                },
                body:JSON.stringify({username:username,password:password})
                
             } )
    
 .then(respond => respond.text())
 
 .then((data) => {
 console.log(data);
 document.getElementById("demo").innerHTML = data;
 })

   
  
.catch(error => console.log('error',error));
}        


 </script>
